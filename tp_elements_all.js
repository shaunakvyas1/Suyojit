if(!window.TP){window.TP={_isDebug:window.tp_debug,_isStaging:window.tp_staging,_oldBrowser:(typeof window.addEventListener=="undefined")?true:false,_callbacks:{},_manifests:{},_protocol:document.location.protocol=="https:"?"https://":"http://",engagerBaseUrl:function(){return TP._isDebug?"http://tb.trustplot.com/TPElements/":(TP._isStaging?TP._protocol+"ssl.tp-staging.com/TPElements/":TP._protocol+"ssl.trustpilot.com/TPElements/");},s3BaseUrl:function(){return TP._protocol+"s.trustpilot.com/tpelements/";},getSettings:function(k,b){var d=k.getAttribute("data-tp-settings").replace(/( |\r\n|\n|\r)/g,"").split(",");var j={};var f;for(var e=0;e<d.length;e++){var h=d[e].split(":");f=h[0];var l=h[1];var g=f.toLowerCase();if(g=="width"||g=="height"||g=="size"){l=parseInt(l,10);}else{if(l.match(/^true$/i)){l=true;}else{if(l.match(/^false$/i)){l=false;}}}j[f]=l;}for(var a in b){var c=false;for(f in j){if(f.toLowerCase()===a.toLowerCase()){c=true;break;}}if(!c){j[a]=b[a];}}return j;},showLoader:function(c,d,a,e){var b=document.createElement("div");b.setAttribute("id","tploader-"+d+a);b.innerHTML='<div class="tp-loader" style="position: absolute; top: 0; width: 16px; left: 50%; margin-left: -8px; overflow: hidden;"><img src="'+TP._protocol+'images-static.trustpilot.com/widget/shared/tp_widget_loader.gif" alt="trustpilot widget loader"></div>';b.style.position="relative";b.style.width=e+"px";c.appendChild(b);},hideLoader:function(c,a){var b=document.getElementById("tploader-"+c+a);if(b){b.parentNode.removeChild(b);}},getElementsByClass:function(b){if(typeof document.getElementsByClassName=="function"){return document.getElementsByClassName(b);}var c=[];var a=document.getElementsByTagName("*");var e=new RegExp("\\b"+b+"\\b");for(var d in a){if(a[d]&&a[d].className&&a[d].className.match(e)){c.push(a[d]);}}return c;},insertIframe:function(a,k,l,g,e,m,j,c){if(k.children.length>1){return;}k.children[0].style.display="none";if(!TP._oldBrowser){TP.showLoader(k,l,g,m);}var i=a;i+="?index="+g;i+="&type="+l;for(var h in j){var d=false;for(var b in c){if(h.toLowerCase()===b.toLowerCase()){if(j[h]!=c[b]){i+="&"+h+"="+j[h];}d=true;break;}}if(!d){i+="&"+h+"="+j[h];}}if(window.dontUpdateCloud){i+="&updateCloud=false";i+="&b2bSetting=true";}var f=document.createElement("iframe");f.setAttribute("id","tpiframe-"+l+g);f.allowTransparency=true;f.frameBorder=0;f.width=m;f.height=e;f.index=g;f.path=i;f.scrolling="no";f.type=l;if(window.dontUpdateCloud||TP._isDebug){f.onload=function(){f.style.display="block";TP.hideLoader(l,g);};f.src=TP.engagerBaseUrl()+i;}else{if(TP._oldBrowser){TP.oldBrowserFallback(i,f,k,l,g,0);return;}else{TP._callbacks[l+g]=false;f.onload=function(){var r=this.type;var o=this.index;var q=this.path;setTimeout(function(){TP.checkCallBack(r,o,q);},500);};}f.src=TP.makeS3Url(i);}var n=document.createElement("div");n.className="tpiframe-wrapper";n.appendChild(f);k.appendChild(n);},oldBrowserFallback:function(k,g,o,q,h,j,n){var b=/domainId=(\d+)/i.exec(k)[1];var a=false;if(j>1000){TP._manifests[b]=[];a=true;}if(TP._manifests[b]){g.onload=function(){g.style.display="block";TP.hideLoader(q,h);};var l=TP.makeS3Url(k);var d=l.split("/");var c=d[d.length-1].split("?")[0];var e=false;for(var f=0;f<TP._manifests[b].length;f++){if(TP._manifests[b][f]==c){e=true;break;}}if(e){g.src=l;}else{if(a){g.src=TP.engagerBaseUrl()+k+"&forceManifest=true";}else{g.src=TP.engagerBaseUrl()+k;}}var r=document.createElement("div");r.className="tpiframe-wrapper";r.appendChild(g);o.appendChild(r);}else{if(!n){var m=document.createElement("script");m.src=TP.s3BaseUrl()+b+"/manifest.jsonp";document.getElementsByTagName("head")[0].appendChild(m);}var p=50;setTimeout(function(){TP.oldBrowserFallback(k,g,o,q,h,j+p,true);},p);}},makeS3Url:function(c){var a=/domainId=(\d+)/i.exec(c)[1];var d=/type=([a-z]+)/i.exec(c)[1];var b=/index=(\d+)/i.exec(c)[1];c=c.replace(/\?index=\d+/gi,"");return TP.s3BaseUrl()+a+"/"+TP.md5(c)+".html?type="+d+"&index="+b;},checkCallBack:function(e,c,d){var b=document.getElementById("tpiframe-"+e+c);if(!TP._callbacks[e+c]){var a=TP.engagerBaseUrl()+d;if(b.src!=a){b.src=a;}}else{b.style.display="block";TP.hideLoader(e,c);}},loadBadges:function(){var c={100:86,120:103,140:120,180:155,220:189,280:240};var b={size:140,categoryId:0};var e=TP.getElementsByClass("tp_-_category-badge");for(var d=0;d<e.length;d++){var a=e[d];var f=TP.getSettings(a,b);TP.insertIframe("CategoryBadge",a,"badge",d,c[f.size],f.size,f,b);}},loadBoxes:function(){var c=TP.getElementsByClass("tp_-_box");var a={linkColor:"CE5600",fontSize:11,fontFamily:"Helvetica",fontColor:"444444",bgColor:"FFFFFF",bgBarColor:"DDDDDD",borderRadius:"5",borderWidth:"1",borderColor:"444444",showReviews:true,showHeader:true,showRatingText:true,showComplementaryText:true,showUserImage:true,showDate:true,usePopup:true,width:180,numOfReviews:3,fontBarColor:"444444",useDarkLogo:true,useDynamicHeight:true,height:500,reviews1StarsSelected:false,reviews2StarsSelected:false,reviews3StarsSelected:false,reviews4StarsSelected:true,reviews5StarsSelected:true,showSelectedRatings:true};for(var b=0;b<c.length;b++){var e=c[b];var d=TP.getSettings(e,a);TP.insertIframe("Box",e,"box",b,d.height,d.width,d,a);}},md5:function(m){function k(s,r){var n=s[0],o=s[1],p=s[2],q=s[3];n=c(n,o,p,q,r[0],7,-680876936);q=c(q,n,o,p,r[1],12,-389564586);p=c(p,q,n,o,r[2],17,606105819);o=c(o,p,q,n,r[3],22,-1044525330);n=c(n,o,p,q,r[4],7,-176418897);q=c(q,n,o,p,r[5],12,1200080426);p=c(p,q,n,o,r[6],17,-1473231341);o=c(o,p,q,n,r[7],22,-45705983);n=c(n,o,p,q,r[8],7,1770035416);q=c(q,n,o,p,r[9],12,-1958414417);p=c(p,q,n,o,r[10],17,-42063);o=c(o,p,q,n,r[11],22,-1990404162);n=c(n,o,p,q,r[12],7,1804603682);q=c(q,n,o,p,r[13],12,-40341101);p=c(p,q,n,o,r[14],17,-1502002290);o=c(o,p,q,n,r[15],22,1236535329);n=d(n,o,p,q,r[1],5,-165796510);q=d(q,n,o,p,r[6],9,-1069501632);p=d(p,q,n,o,r[11],14,643717713);o=d(o,p,q,n,r[0],20,-373897302);n=d(n,o,p,q,r[5],5,-701558691);q=d(q,n,o,p,r[10],9,38016083);p=d(p,q,n,o,r[15],14,-660478335);o=d(o,p,q,n,r[4],20,-405537848);n=d(n,o,p,q,r[9],5,568446438);q=d(q,n,o,p,r[14],9,-1019803690);p=d(p,q,n,o,r[3],14,-187363961);o=d(o,p,q,n,r[8],20,1163531501);n=d(n,o,p,q,r[13],5,-1444681467);q=d(q,n,o,p,r[2],9,-51403784);p=d(p,q,n,o,r[7],14,1735328473);o=d(o,p,q,n,r[12],20,-1926607734);n=g(n,o,p,q,r[5],4,-378558);q=g(q,n,o,p,r[8],11,-2022574463);p=g(p,q,n,o,r[11],16,1839030562);o=g(o,p,q,n,r[14],23,-35309556);n=g(n,o,p,q,r[1],4,-1530992060);q=g(q,n,o,p,r[4],11,1272893353);p=g(p,q,n,o,r[7],16,-155497632);o=g(o,p,q,n,r[10],23,-1094730640);n=g(n,o,p,q,r[13],4,681279174);q=g(q,n,o,p,r[0],11,-358537222);p=g(p,q,n,o,r[3],16,-722521979);o=g(o,p,q,n,r[6],23,76029189);n=g(n,o,p,q,r[9],4,-640364487);q=g(q,n,o,p,r[12],11,-421815835);p=g(p,q,n,o,r[15],16,530742520);o=g(o,p,q,n,r[2],23,-995338651);n=h(n,o,p,q,r[0],6,-198630844);q=h(q,n,o,p,r[7],10,1126891415);p=h(p,q,n,o,r[14],15,-1416354905);o=h(o,p,q,n,r[5],21,-57434055);n=h(n,o,p,q,r[12],6,1700485571);q=h(q,n,o,p,r[3],10,-1894986606);p=h(p,q,n,o,r[10],15,-1051523);o=h(o,p,q,n,r[1],21,-2054922799);n=h(n,o,p,q,r[8],6,1873313359);q=h(q,n,o,p,r[15],10,-30611744);p=h(p,q,n,o,r[6],15,-1560198380);o=h(o,p,q,n,r[13],21,1309151649);n=h(n,o,p,q,r[4],6,-145523070);q=h(q,n,o,p,r[11],10,-1120210379);p=h(p,q,n,o,r[2],15,718787259);o=h(o,p,q,n,r[9],21,-343485551);s[0]=a(n,s[0]);s[1]=a(o,s[1]);s[2]=a(p,s[2]);s[3]=a(q,s[3]);}function b(p,n,o,v,r,u){n=a(a(n,p),a(v,u));return a((n<<r)|(n>>>(32-r)),o);}function c(n,o,p,q,v,r,u){return b((o&p)|((~o)&q),n,o,v,r,u);}function d(n,o,p,q,v,r,u){return b((o&q)|(p&(~q)),n,o,v,r,u);}function g(n,o,p,q,v,r,u){return b(o^p^q,n,o,v,r,u);}function h(n,o,p,q,v,r,u){return b(p^(o|(~q)),n,o,v,r,u);}function i(q){var p=q.length,r=[1732584193,-271733879,-1732584194,271733878],o;for(o=64;o<=q.length;o+=64){k(r,j(q.substring(o-64,o)));}q=q.substring(o-64);var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(o=0;o<q.length;o++){t[o>>2]|=q.charCodeAt(o)<<((o%4)<<3);}t[o>>2]|=128<<((o%4)<<3);if(o>55){k(r,t);for(o=0;o<16;o++){t[o]=0;}}t[14]=p*8;k(r,t);return r;}function j(p){var o=[],n;for(n=0;n<64;n+=4){o[n>>2]=p.charCodeAt(n)+(p.charCodeAt(n+1)<<8)+(p.charCodeAt(n+2)<<16)+(p.charCodeAt(n+3)<<24);}return o;}var f="0123456789abcdef".split("");function l(p){var q="",o=0;for(;o<4;o++){q+=f[(p>>(o*8+4))&15]+f[(p>>(o*8))&15];}return q;}function e(o){for(var n=0;n<o.length;n++){o[n]=l(o[n]);}return o.join("");}function a(n,o){return(n+o)&4294967295;}if(!window.checkedMd5SumCapabilities){window.checkedMd5SumCapabilities=true;if(TP.md5("hello")!="5d41402abc4b2a76b9719d911017c592"){function a(p,q){var n=(p&65535)+(q&65535),o=(p>>16)+(q>>16)+(n>>16);return(o<<16)|(n&65535);}}}return e(i(m));}};if(!TP._oldBrowser){window.addEventListener("message",function(b){var a=b.data.split(":");var h=a[0];var g=a[1];var c=document.getElementById("tpiframe-"+h+g);if(c){TP._callbacks[h+g]=true;var f=a[2];if(f){var d=parseInt(f,10);if(isFinite(d)){c.height=d;}}}},false);}var trustpilot_manifest_callback=function(a,b){TP._manifests[a]=b;};}TP.loadBadges();TP.loadBoxes();